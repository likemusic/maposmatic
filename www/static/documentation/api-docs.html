<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Hartmut Holzgraefe">
<title>MapOSMatic remote rendering API</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: rgba(0, 0, 0, 0.8); padding: 0; margin: 0; font-family: "Noto Serif", "DejaVu Serif", serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.stretch { width: 100%; }

p.lead { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.45; color: #7a2518; font-weight: normal; margin-top: 0; margin-bottom: 0.25em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #2156a5; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #1d4b8f; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Open Sans", "DejaVu Sans", sans-serif; font-weight: 300; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.0125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddddd8; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; font-weight: normal; color: rgba(0, 0, 0, 0.9); }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: rgba(0, 0, 0, 0.8); border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.9375em; color: rgba(0, 0, 0, 0.6); }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: rgba(0, 0, 0, 0.6); }

blockquote, blockquote p { line-height: 1.6; color: rgba(0, 0, 0, 0.85); }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dedede; }
table thead, table tfoot { background: #f7f8f7; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f7; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; word-spacing: -0.05em; }
h1 strong, h2 strong, h3 strong, #toctitle strong, .sidebarblock > .content > .title strong, h4 strong, h5 strong, h6 strong { font-weight: 400; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 0.1em 0.5ex; word-spacing: -0.15em; background-color: #f7f7f8; -webkit-border-radius: 4px; border-radius: 4px; line-height: 1.45; text-rendering: optimizeSpeed; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.45; color: rgba(0, 0, 0, 0.9); font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; text-rendering: optimizeSpeed; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: rgba(51, 51, 51, 0.8); }

kbd { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; display: inline-block; color: rgba(0, 0, 0, 0.8); font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: rgba(0, 0, 0, 0.9); }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: rgba(0, 0, 0, 0.85); margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddddd8; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddddd8; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddddd8; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: rgba(0, 0, 0, 0.6); display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: rgba(0, 0, 0, 0.85); }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: rgba(0, 0, 0, 0.85); }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: rgba(0, 0, 0, 0.85); border-bottom: 1px solid #ddddd8; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #efefed; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Open Sans", "DejaVu Sans", sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #7a2518; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f8f8f7; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #efefed; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #efefed; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: rgba(0, 0, 0, 0.8); padding: 1.25em; }

#footer-text { color: rgba(255, 255, 255, 0.8); line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 1px solid #efefed; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; font-family: "Noto Serif", "DejaVu Serif", serif; font-size: 1rem; font-style: italic; }

table.tableblock.fit-content > caption.title { white-space: nowrap; width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: 1.21875em; line-height: 1.6; color: rgba(0, 0, 0, 0.85); }

table.tableblock #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Open Sans", "DejaVu Sans", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddddd8; color: rgba(0, 0, 0, 0.6); }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; text-align: center; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #f7f7f8; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { -webkit-border-radius: 4px; border-radius: 4px; word-wrap: break-word; padding: 1em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #f7f7f8; background-color: rgba(0, 0, 0, 0.9); }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em; -webkit-border-radius: 4px; border-radius: 4px; }

.listingblock pre.prettyprint { border-width: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.45; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddddd8; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: rgba(0, 0, 0, 0.85); font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #7a2518; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid rgba(0, 0, 0, 0.6); }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: rgba(0, 0, 0, 0.85); font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.9375em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: rgba(0, 0, 0, 0.6); }

.quoteblock.abstract { margin: 0 1em 1.25em 1em; display: block; }
.quoteblock.abstract > .title { margin: 0 0 0.375em 0; font-size: 1.15em; text-align: center; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { word-spacing: 0; line-height: 1.6; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract p:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }

p.tableblock:last-child { margin-bottom: 0; }

td.tableblock > .content { margin-bottom: -1.25em; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dedede; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot, table.frame-ends { border-width: 1px 0; }

table.stripes-all tr, table.stripes-odd tr:nth-of-type(odd) { background: #f8f8f7; }

table.stripes-none tr, table.stripes-odd tr:nth-of-type(even) { background: none; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.6; background: #f7f8f7; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: rgba(0, 0, 0, 0.8); font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.625em -1.25em; }

ul.inline > li { margin-left: 1.25em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist td:not([class]):first-child { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist td:not([class]):first-child img { max-width: none; }
.colist td:not([class]):last-child { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #19407c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: rgba(0, 0, 0, 0.8); -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

dt, th.tableblock, td.content, div.footnote { text-rendering: optimizeLegibility; }

h1, h2, p, td.content, span.alt { letter-spacing: -0.01em; }

p strong, td.content strong, div.footnote strong { letter-spacing: -0.005em; }

p, blockquote, dt, td.content, span.alt { font-size: 1.0625rem; }

p { margin-bottom: 1.25rem; }

.sidebarblock p, .sidebarblock dt, .sidebarblock td.content, p.tableblock { font-size: 1em; }

.exampleblock > .content { background-color: #fffef7; border-color: #e0e0dc; -webkit-box-shadow: 0 1px 4px #e0e0dc; box-shadow: 0 1px 4px #e0e0dc; }

.print-only { display: none !important; }

@page { margin: 1.25cm 0.75cm; }

@media print { * { -webkit-box-shadow: none !important; box-shadow: none !important; text-shadow: none !important; }
  html { font-size: 80%; }
  a { color: inherit !important; text-decoration: underline !important; }
  a.bare, a[href^="#"], a[href^="mailto:"] { text-decoration: none !important; }
  a[href^="http:"]:not(.bare):after, a[href^="https:"]:not(.bare):after { content: "(" attr(href) ")"; display: inline-block; font-size: 0.875em; padding-left: 0.25em; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  pre, blockquote, tr, img, object, svg { page-break-inside: avoid; }
  thead { display: table-header-group; }
  svg { max-width: 100%; }
  p, blockquote, dt, td.content { font-size: 1em; orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  #toc, .sidebarblock, .exampleblock > .content { background: none !important; }
  #toc { border-bottom: 1px solid #ddddd8 !important; padding-bottom: 0 !important; }
  body.book #header { text-align: center; }
  body.book #header > h1:first-child { border: 0 !important; margin: 2.5em 0 1em 0; }
  body.book #header .details { border: 0 !important; display: block; padding: 0 !important; }
  body.book #header .details span:first-child { margin-left: 0 !important; }
  body.book #header .details br { display: block; }
  body.book #header .details br + span:before { content: none !important; }
  body.book #toc { border: 0 !important; text-align: left !important; padding: 0 !important; margin: 0 !important; }
  body.book #toc, body.book #preamble, body.book h1.sect0, body.book .sect1 > h2 { page-break-before: always; }
  .listingblock code[data-lang]:before { display: block; }
  #footer { padding: 0 0.9375em; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
@media print, amzn-kf8 { #header > h1:first-child { margin-top: 1.25rem; }
  .sect1 { padding: 0 !important; }
  .sect1 + .sect1 { border: 0; }
  #footer { background: none; }
  #footer-text { color: rgba(0, 0, 0, 0.6); font-size: 0.9em; } }
@media amzn-kf8 { #header, #content, #footnotes, #footer { padding: 0; } }

</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article">
<div id="header">
<h1>MapOSMatic remote rendering API</h1>
<div class="details">
<span id="author" class="author">Hartmut Holzgraefe</span><br>
<span id="email" class="email"><a href="mailto:hartmut@php.net">hartmut@php.net</a></span><br>
<span id="revnumber">version 1,</span>
<span id="revdate">September 16th 2018 (Work in progress)</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_api_calls">API calls</a>
<ul class="sectlevel2">
<li><a href="#_paper_formats">Paper Formats</a></li>
<li><a href="#_layouts">Layouts</a></li>
<li><a href="#_base_styles">Base Styles</a></li>
<li><a href="#_overlay_styles">Overlay Styles</a></li>
<li><a href="#_job_stati">Job Stati</a></li>
<li><a href="#_submitting_a_job">Submitting a Job</a></li>
<li><a href="#_checking_job_results">Checking Job results</a></li>
</ul>
</li>
<li><a href="#_example_code">Example code</a>
<ul class="sectlevel2">
<li><a href="#_php">PHP</a></li>
<li><a href="#_python">Python</a></li>
<li><a href="#_javascript">Javascript</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>MapOSMatic is a web frontend for the OCitySMap renderer, which uses
the Mapnik map rendering libary, Python and the CairoGraphics library
to create decorated single page maps and multi page atlas-like booklets.</p>
</div>
<div class="paragraph">
<p>Originally this was a pure user centric web GUI, but recently a wish
for using the infrastructure with different web frontends did come up.</p>
</div>
<div class="paragraph">
<p>So this HTTP API provides an alternative way to submit map rendering
requests, and to retrieve additional data that may be needed on the
way.</p>
</div>
<div class="paragraph">
<p>Requests and results are submitted as JSON documents, with the
optional possibility to attach extra data files, like GPX tracks
or Umap user created maps.</p>
</div>
<div class="paragraph">
<p>This documentation begins with describing the helper calls that
provide lists of possible choices for different data fields,
followed by the actual map rendering call and how to retrieve
rendering status and results, and ends with example programs
to access the API from different programming languages.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_calls">API calls</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_paper_formats">Paper Formats</h3>
<div class="sect3">
<h4 id="_request_url">Request URL</h4>
<div class="listingblock">
<div class="content">
<pre>https://api.get-map.org/apis/paper_formats</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_result">Example result</h4>
<div class="listingblock">
<div class="content">
<pre>{
    "Best fit": {
        "height": null,
        "width": null
    },
    "Din A4": {
        "height": 297,
        "width": 210
    },
    "US letter": {
        "height": 279,
        "width": 216
    }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_layouts">Layouts</h3>
<div class="sect3">
<h4 id="_request_url_2">Request URL</h4>
<div class="listingblock">
<div class="content">
<pre>https://api.get-map.org/apis/layouts</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_result_2">Example result</h4>
<div class="listingblock">
<div class="content">
<pre>{
    "multi_page": {
        "description": "A multi-page layout.",
        "preview_url": "https://api.get-map.org/media/img/layout/multi_page.png"
    },
    "plain": {
        "description": "Full-page layout without index.",
        "preview_url": "https://api.get-map.org/media/img/layout/plain.png"
    },
    "single_page_index_bottom": {
        "description": "Full-page layout with the index at the bottom.",
        "preview_url": "https://api.get-map.org/media/img/layout/single_page_index_bottom.png"
    },
    "single_page_index_side": {
        "description": "Full-page layout with the index on the side.",
        "preview_url": "https://api.get-map.org/media/img/layout/single_page_index_side.png"
    }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_base_styles">Base Styles</h3>
<div class="sect3">
<h4 id="_request_url_3">Request URL</h4>
<div class="listingblock">
<div class="content">
<pre>https://api.get-map.org/apis/styles</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_output">Example output</h4>
<div class="listingblock">
<div class="content">
<pre>{
    "CartoOSM": {
        "annotation": "OpenStreetMap Carto standard style",
        "description": "CartoCSS OSM standard style",
        "preview_url": "https://api.get-map.org/media/img/style/CartoOSM.png"
    },
    "GermanCartoOSM": {
        "annotation": "German OSM style based on OSM Carto",
        "description": "German OSM style",
        "preview_url": "https://api.get-map.org/media/img/style/GermanCartoOSM.png"
    }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_overlay_styles">Overlay Styles</h3>
<div class="sect3">
<h4 id="_request_url_4">Request URL</h4>
<div class="listingblock">
<div class="content">
<pre>https://api.get-map.org/apis/overlays</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_output_2">Example output</h4>
<div class="listingblock">
<div class="content">
<pre>{
    "OpenRailwayMap_Overlay": {
        "annotation": "OpenRailwayMap overlay",
        "description": "OpenRailwayMap rail line overlay",
        "preview_url": "https://api.get-map.org/media/img/style/OpenRailwayMap_Overlay.jpg"
    },
    "Scale_Bar_overlay": {
        "annotation": "",
        "description": "Map scale bar"
        "preview_url": "https://api.get-map.org/media/img/style/Scale_Bar_overlay.jpg"
    }
 }</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_job_stati">Job Stati</h3>
<div class="sect3">
<h4 id="_request_url_5">Request URL</h4>
<div class="listingblock">
<div class="content">
<pre>https://api.get-map.org/apis/job_stati/</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_result_3">Example result</h4>
<div class="listingblock">
<div class="content">
<pre>{
    "0": "Submitted",
    "1": "In progress",
    "2": "Done",
    "3": "Done w/o files",
    "4": "Cancelled"
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_submitting_a_job">Submitting a Job</h3>
<div class="sect3">
<h4 id="_request_url_6">Request URL</h4>
<div class="listingblock">
<div class="content">
<pre>POST https://api.get-map.org/apis/jobs/</pre>
</div>
</div>
<div class="paragraph">
<p>Expects render job named parameters as a JSON collection.</p>
</div>
<div class="paragraph">
<p>Possible parameters:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">osmid</dt>
<dd>
<p>ID of an object in the osm2pgsql</p>
</dd>
<dt class="hdlist1">bbox_top</dt>
<dt class="hdlist1">bbox_bottom</dt>
<dt class="hdlist1">bbox_left</dt>
<dt class="hdlist1">bbox_right</dt>
<dd>
<p>Render area min. bounding box, may be extended to fit paper format</p>
</dd>
<dt class="hdlist1">title</dt>
<dd>
<p>Text to put into the title box (default: "Untitled API Request")</p>
</dd>
<dt class="hdlist1">language</dt>
<dd>
<p>locale to use for rendering (default: "en_US.UTF-8")</p>
</dd>
<dt class="hdlist1">layout</dt>
<dd>
<p>Map layout to use (default: "plain")</p>
</dd>
<dt class="hdlist1">style</dt>
<dd>
<p>Map base style to use (default: "CartoOSM")</p>
</dd>
<dt class="hdlist1">overlays</dt>
<dd>
<p>List of overlays to put on top of base style (default: None)</p>
</dd>
<dt class="hdlist1">paper_size</dt>
<dd>
<p>Paper size to use (default: "Din A4" 210x297mm)</p>
</dd>
<dt class="hdlist1">orientation</dt>
<dd>
<p>Paper orientation: "portrait" or "landscape" (default: "portrait")</p>
</dd>
<dt class="hdlist1">track_url</dt>
<dd>
<p>URL pointing to a GPX track to download and print</p>
</dd>
<dt class="hdlist1">umap_url</dt>
<dd>
<p>URL pointing to an Umap export file do download and print</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>It is also possible to upload GPX and Umap files directly using a multipart/form-data
POST request. In this case you have to submit the actual API JSON as a post parameter
named "json", and add file fields named "track" for a GPX track, or "umap" for an
Umap JSON export.</p>
</div>
<div class="paragraph">
<p>After successfully submitting a request you can either poll the job result API every
once in a while until it either returns the "200 OK" status, or a 4xx error code.
Or you can redirect a web client to the human readable result page listed in the
returned "interactive" job parameter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_codes">Return codes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">202</dt>
<dd>
<p><em>Accepted</em> when successfully submitted, "Location:" header will contain result URL</p>
</dd>
<dt class="hdlist1">400</dt>
<dd>
<p><em>Bad request</em> on request validation errors</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_example_requests">Example requests</h4>
<div class="listingblock">
<div class="content">
<pre>Content-type: application/json

{
    "title": "API Test",
    "bbox_bottom": 52.00,
    "bbox_left": 8.52,
    "bbox_right": 8.50,
    "bbox_top": 52.02
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Content-Type: multipart/form-data; boundary=--XXXXXXXX

--XXXXXXXX
Content-Disposition: form-data; name="json"

{
    "title": "GPX Test",
    "paper_size": "Din A1"
}
--XXXXXXXX
Content-Disposition: form-data; name="track"; filename="test.gpx"
Content-Type: application/gpx+xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;gpx version="1.1"&gt;
  &lt;metadata&gt;
    &lt;name&gt;GPX test&lt;/name&gt;
  &lt;/metadata&gt;
  &lt;trk&gt;
    &lt;trkseg&gt;
      &lt;trkpt lat="52.00" lon="8.50" /&gt;
      &lt;trkpt lat="52.02" lon="8.52" /&gt;
    &lt;/trkseg&gt;
  &lt;/trk&gt;
&lt;/gpx&gt;
--XXXXXXXX--</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_results">Example results</h4>
<div class="listingblock">
<div class="content">
<pre>HTTP/1.1 202 Accepted
[...]
Location: /api/jobs/36
Content-Type: text/json

{
    "bbox_bottom": 52.01,
    "bbox_left": 8.52,
    "bbox_right": 8.50,
    "bbox_top": 52.02,
    "id": 36,
    "interactive": "https://api.get-map.org/maps/214"
    "language": "en_US.UTF-8",
    "layout": "plain",
    "paper_height_mm": 297,
    "paper_width_mm": 210,
    "status": 0,
    "styles": "CartoOSM"
    "title": "API Test",
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>HTTP/1.1 400 Bad Request
[...]
Content-Type: text/json

{
    "error": {
        "non_field_errors": [
            "No bounding box area or OsmID given"
        ]
    }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_checking_job_results">Checking Job results</h3>
<div class="sect3">
<h4 id="_request_url_7">Request Url</h4>
<div class="listingblock">
<div class="content">
<pre>https://api.get-map.org/apis/jobs/</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_return_codes_2">Return codes</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">200</dt>
<dd>
<p><em>OK</em> when request has been processed successfully</p>
</dd>
<dt class="hdlist1">202</dt>
<dd>
<p><em>Accepted</em> when rendering is still in progress, "Location:" header will contain same URL again</p>
</dd>
<dt class="hdlist1">410</dt>
<dd>
<p><em>Gone</em> when a request had been processed successfuly in the past, but result files have since been purged to free file system space</p>
</dd>
<dt class="hdlist1">400</dt>
<dd>
<p><em>Bad request</em> when a request failed to render</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_example_result_4">Example result</h4>
<div class="listingblock">
<div class="content">
<pre>HTTP/1.1 200 OK
[...]
Content-type: application/json

{
    "bbox_bottom": 52.01,
    "bbox_left": 8.53,
    "bbox_right": 8.49,
    "bbox_top": 52.02,
    "files":
    {
        "8bit.png": "https://api.get-map.org/results//000215_2018-09-12_23-14_GPX-test.8bit.png",
        "jpg": "https://api.get-map.org/results//000215_2018-09-12_23-14_GPX-test.jpg",
        "pdf": "https://api.get-map.org/results//000215_2018-09-12_23-14_GPX-test.pdf",
        "png": "https://api.get-map.org/results//000215_2018-09-12_23-14_GPX-test.png",
        "svgz": "https://api.get-map.org/results//000215_2018-09-12_23-14_GPX-test.svgz"
    }
    "id": 215,
    "language": "en_US.UTF-8",
    "layout": "plain",
    "paper_height_mm": 594,
    "paper_width_mm": 841,
    "queue_size": 0,
    "status": 2,
    "style": "CartoOSM",
    "title": "GPX test"
}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_code">Example code</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_php">PHP</h3>
<div class="paragraph">
<p>All examples in this script use the <code>PEAR:HTTP_Request2</code> class for sending
HTTP requests and receiving server replies.</p>
</div>
<div class="sect3">
<h4 id="_retrieve_parameter_choices">Retrieve parameter choices</h4>
<div class="paragraph">
<p>Here we are using the <code>/paper_formats</code>, <code>/layouts</code>, <code>styles</code> and <code>overlays</code>
API calls to retrieve possible choices for all of these parameters, and
their textual description where available.</p>
</div>
<div class="listingblock">
<div class="title">parameters.php</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="inline-delimiter">&lt;?php</span>
<span class="predefined">require_once</span> <span class="string"><span class="delimiter">'</span><span class="content">HTTP/Request2.php</span><span class="delimiter">'</span></span>;

<span class="predefined">define</span>(<span class="string"><span class="delimiter">'</span><span class="content">BASE_URL</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">https://api.get-map.org/apis/v1/</span><span class="delimiter">'</span></span>);

<span class="keyword">function</span> <span class="function">api_call</span>(<span class="local-variable">$url</span>)
{
  <span class="local-variable">$request</span> = <span class="keyword">new</span> <span class="constant">HTTP_Request2</span>(<span class="constant">BASE_URL</span> . <span class="local-variable">$url</span>);

  <span class="local-variable">$request</span>-&gt;setMethod(<span class="constant">HTTP_Request2</span>::<span class="constant">METHOD_GET</span>);

  <span class="local-variable">$response</span> = <span class="local-variable">$request</span>-&gt;send();
  <span class="local-variable">$status</span> = <span class="local-variable">$response</span>-&gt;getStatus();

  <span class="keyword">if</span> (<span class="local-variable">$status</span> &lt; <span class="integer">200</span> || <span class="local-variable">$status</span> &gt; <span class="integer">299</span>) {
          <span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">invalid HTTP response to '</span><span class="local-variable">$url</span><span class="content">': </span><span class="local-variable">$status</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
          <span class="predefined">echo</span> <span class="local-variable">$response</span>-&gt;getBody();
          <span class="predefined">exit</span>(<span class="integer">3</span>);
  }

  <span class="keyword">return</span> json_decode(<span class="local-variable">$response</span>-&gt;getBody());
}

<span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">PAPER FORMATS:</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
<span class="local-variable">$paper_formats</span> = api_call(<span class="string"><span class="delimiter">'</span><span class="content">paper_formats</span><span class="delimiter">'</span></span>);
<span class="keyword">foreach</span> (<span class="local-variable">$paper_formats</span> <span class="keyword">AS</span> <span class="local-variable">$name</span> =&gt; <span class="local-variable">$format</span>)
  <span class="predefined">printf</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">%-10s: %4dx%4d mm</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">$name</span>, <span class="local-variable">$format</span>-&gt;width, <span class="local-variable">$format</span>-&gt;height);

<span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="content">LAYOUTS</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
<span class="local-variable">$layouts</span> = api_call(<span class="string"><span class="delimiter">'</span><span class="content">layouts</span><span class="delimiter">'</span></span>);
<span class="keyword">foreach</span> (<span class="local-variable">$layouts</span> <span class="keyword">as</span> <span class="local-variable">$name</span> =&gt; <span class="local-variable">$layout</span>)
  <span class="predefined">printf</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">%-25s: %s</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">$name</span>, <span class="local-variable">$layout</span>-&gt;description);

<span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="content">STYLES</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
<span class="local-variable">$styles</span> = api_call(<span class="string"><span class="delimiter">'</span><span class="content">styles</span><span class="delimiter">'</span></span>);
<span class="keyword">foreach</span> (<span class="local-variable">$styles</span> <span class="keyword">as</span> <span class="local-variable">$name</span> =&gt; <span class="local-variable">$style</span>)
  <span class="predefined">printf</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">%-25s: %s</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">$name</span>, <span class="local-variable">$style</span>-&gt;description);

<span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="content">OVERLAYS</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
<span class="local-variable">$overlays</span> = api_call(<span class="string"><span class="delimiter">'</span><span class="content">overlays</span><span class="delimiter">'</span></span>);
<span class="keyword">foreach</span> (<span class="local-variable">$overlays</span> <span class="keyword">as</span> <span class="local-variable">$name</span> =&gt; <span class="local-variable">$overlay</span>)
  <span class="predefined">printf</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">%-25s: %s</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">$name</span>, <span class="local-variable">$overlay</span>-&gt;description);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_submitting_a_simple_request">Submitting a simple request</h4>
<div class="paragraph">
<p>Now we are submitting a simple request, only setting the map title,
and the bounding box of the area to display. We do not check for
rendering to complete, but redirect the web client to the interactive
result URL given as <code>interactive</code> in the returned JSON data.</p>
</div>
<div class="paragraph">
<p>This is the same result page as when you submit a map request manually
via the standard web user interface, so this approach is suitable for
interactive web applications:</p>
</div>
<div class="listingblock">
<div class="title">simple-request.php</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="inline-delimiter">&lt;?php</span>
<span class="predefined">require_once</span> <span class="string"><span class="delimiter">'</span><span class="content">HTTP/Request2.php</span><span class="delimiter">'</span></span>;

<span class="predefined">define</span>(<span class="string"><span class="delimiter">'</span><span class="content">BASE_URL</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">https://api.get-map.org/apis/v1/</span><span class="delimiter">'</span></span>);

<span class="local-variable">$data</span> = [<span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>       =&gt; <span class="string"><span class="delimiter">'</span><span class="content">PHP Test</span><span class="delimiter">'</span></span>,
         <span class="string"><span class="delimiter">'</span><span class="content">bbox_bottom</span><span class="delimiter">'</span></span> =&gt; <span class="float">52.00</span>,
         <span class="string"><span class="delimiter">'</span><span class="content">bbox_top</span><span class="delimiter">'</span></span>    =&gt; <span class="float">52.02</span>,
         <span class="string"><span class="delimiter">'</span><span class="content">bbox_left</span><span class="delimiter">'</span></span>   =&gt; <span class="float">8.50</span>,
         <span class="string"><span class="delimiter">'</span><span class="content">bbox_right</span><span class="delimiter">'</span></span>  =&gt; <span class="float">8.52</span>
        ];

<span class="local-variable">$request</span> = <span class="keyword">new</span> <span class="constant">HTTP_Request2</span>(<span class="constant">BASE_URL</span> . <span class="string"><span class="delimiter">&quot;</span><span class="content">jobs</span><span class="delimiter">&quot;</span></span>);

<span class="local-variable">$request</span>-&gt;setMethod(<span class="constant">HTTP_Request2</span>::<span class="constant">METHOD_POST</span>)
                -&gt;setHeader(<span class="string"><span class="delimiter">'</span><span class="content">Content-type: application/json; charset=utf-8</span><span class="delimiter">'</span></span>)
                -&gt;setBody(json_encode(<span class="local-variable">$data</span>));

<span class="local-variable">$response</span> = <span class="local-variable">$request</span>-&gt;send();
<span class="local-variable">$status</span>   = <span class="local-variable">$response</span>-&gt;getStatus();

<span class="keyword">if</span> (<span class="local-variable">$status</span> &lt; <span class="integer">200</span> || <span class="local-variable">$status</span> &gt; <span class="integer">299</span>) {
    <span class="predefined">header</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Content-type: text/plain</span><span class="delimiter">&quot;</span></span>);
    <span class="predefined">print_r</span>(<span class="local-variable">$response</span>-&gt;getBody());
    <span class="predefined">exit</span>;
}

<span class="local-variable">$reply</span> = json_decode(<span class="local-variable">$response</span>-&gt;getBody());

<span class="predefined">header</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Location: </span><span class="delimiter">&quot;</span></span> . <span class="local-variable">$reply</span>-&gt;interactive);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_attaching_a_file">Attaching a file</h4>
<div class="paragraph">
<p>Now, to make things more interesting, we are going to attach a GPX
file to our request. As the page title and the necessariy bounding
box to fit all track data can be extracted from the file, if it is
a valid GPX file, we do not need to pass any other data at all.</p>
</div>
<div class="listingblock">
<div class="title">file-request.php</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="inline-delimiter">&lt;?php</span>
<span class="predefined">require_once</span> <span class="string"><span class="delimiter">'</span><span class="content">HTTP/Request2.php</span><span class="delimiter">'</span></span>;

<span class="predefined">define</span>(<span class="string"><span class="delimiter">'</span><span class="content">BASE_URL</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">https://api.get-map.org/apis/v1/</span><span class="delimiter">'</span></span>);
<span class="predefined">define</span>(<span class="string"><span class="delimiter">'</span><span class="content">GPX_FILE</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">A1.gpx</span><span class="delimiter">'</span></span>);

<span class="local-variable">$data</span> = [];

<span class="local-variable">$request</span> = <span class="keyword">new</span> <span class="constant">HTTP_Request2</span>(<span class="constant">BASE_URL</span> . <span class="string"><span class="delimiter">&quot;</span><span class="content">jobs</span><span class="delimiter">&quot;</span></span>);

<span class="local-variable">$request</span>-&gt;setMethod(<span class="constant">HTTP_Request2</span>::<span class="constant">METHOD_POST</span>)
        -&gt;addPostParameter(<span class="string"><span class="delimiter">'</span><span class="content">job</span><span class="delimiter">'</span></span>, json_encode(<span class="local-variable">$data</span>))
        -&gt;addUpload(<span class="string"><span class="delimiter">'</span><span class="content">track</span><span class="delimiter">'</span></span>, <span class="constant">GPX_FILE</span>, <span class="predefined">basename</span>(<span class="constant">GPX_FILE</span>), <span class="string"><span class="delimiter">'</span><span class="content">application/gpx+xml</span><span class="delimiter">'</span></span>);

<span class="local-variable">$response</span> = <span class="local-variable">$request</span>-&gt;send();
<span class="local-variable">$status</span>   = <span class="local-variable">$response</span>-&gt;getStatus();

<span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="local-variable">$status</span><span class="content">: </span><span class="delimiter">&quot;</span></span>.<span class="local-variable">$request</span>-&gt;getBody().<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;

<span class="keyword">if</span> (<span class="local-variable">$status</span> &lt; <span class="integer">200</span> || <span class="local-variable">$status</span> &gt; <span class="integer">299</span>) {
    <span class="predefined">header</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Content-type: text/plain</span><span class="delimiter">&quot;</span></span>);
    <span class="predefined">print_r</span>(<span class="local-variable">$response</span>-&gt;getBody());
    <span class="predefined">exit</span>;
}

<span class="local-variable">$reply</span> = json_decode(<span class="local-variable">$response</span>-&gt;getBody());

<span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="local-variable">$status</span><span class="content">: </span><span class="delimiter">&quot;</span></span>.<span class="local-variable">$reply</span>-&gt;interactive.<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_wait_for_rendering_to_complete">Wait for rendering to complete</h4>
<div class="paragraph">
<p>To have your application check for the rendering status yourself
you need to poll the <code>/jobs</code> status page, adding the job <code>id</code>
returned by the API. Please wait at least 15 seconds between
status poll requests.</p>
</div>
<div class="paragraph">
<p>As long as the returned HTTP status is "202 Accepted" the
request is either currently being processed, or still
waiting in the job queue.</p>
</div>
<div class="paragraph">
<p>When the job has completed successfully "200 OK" will be returned,
and the <code>files</code> object in the returned JSON result will contain
a hash of produced file formats, and under what URL each of them
can be retrieved.</p>
</div>
<div class="paragraph">
<p>In the example we retrieve the PDF version, and start the users
preferred PDF viewer to present the result.</p>
</div>
<div class="listingblock">
<div class="title">wait-for-result.php</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><span class="inline-delimiter">&lt;?php</span>
<span class="predefined">require_once</span> <span class="string"><span class="delimiter">'</span><span class="content">HTTP/Request2.php</span><span class="delimiter">'</span></span>;

<span class="predefined">define</span>(<span class="string"><span class="delimiter">'</span><span class="content">BASE_URL</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">https://api.get-map.org/apis/v1/</span><span class="delimiter">'</span></span>);

<span class="keyword">function</span> <span class="function">api_GET</span>(<span class="local-variable">$url</span>)
{
  <span class="local-variable">$request</span> = <span class="keyword">new</span> <span class="constant">HTTP_Request2</span>(<span class="constant">BASE_URL</span> . <span class="local-variable">$url</span>);

  <span class="local-variable">$request</span>-&gt;setMethod(<span class="constant">HTTP_Request2</span>::<span class="constant">METHOD_GET</span>);

  <span class="local-variable">$response</span> = <span class="local-variable">$request</span>-&gt;send();
  <span class="local-variable">$status</span> = <span class="local-variable">$response</span>-&gt;getStatus();

  <span class="keyword">if</span> (<span class="local-variable">$status</span> &lt; <span class="integer">200</span> || <span class="local-variable">$status</span> &gt; <span class="integer">299</span>) {
          <span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">invalid HTTP response to '</span><span class="local-variable">$url</span><span class="content">': </span><span class="local-variable">$status</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
          <span class="predefined">echo</span> <span class="local-variable">$response</span>-&gt;getBody();
          <span class="predefined">exit</span>(<span class="integer">3</span>);
  }

  <span class="keyword">return</span> <span class="predefined">array</span>(<span class="local-variable">$status</span>, json_decode(<span class="local-variable">$response</span>-&gt;getBody()));
}


<span class="local-variable">$data</span> = [<span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>       =&gt; <span class="string"><span class="delimiter">'</span><span class="content">PHP Test</span><span class="delimiter">'</span></span>,
         <span class="string"><span class="delimiter">'</span><span class="content">bbox_bottom</span><span class="delimiter">'</span></span> =&gt; <span class="float">52.00</span>,
         <span class="string"><span class="delimiter">'</span><span class="content">bbox_top</span><span class="delimiter">'</span></span>    =&gt; <span class="float">52.02</span>,
         <span class="string"><span class="delimiter">'</span><span class="content">bbox_left</span><span class="delimiter">'</span></span>   =&gt; <span class="float">8.50</span>,
         <span class="string"><span class="delimiter">'</span><span class="content">bbox_right</span><span class="delimiter">'</span></span>  =&gt; <span class="float">8.52</span>
        ];

<span class="local-variable">$request</span> = <span class="keyword">new</span> <span class="constant">HTTP_Request2</span>(<span class="constant">BASE_URL</span> . <span class="string"><span class="delimiter">&quot;</span><span class="content">jobs</span><span class="delimiter">&quot;</span></span>);

<span class="local-variable">$request</span>-&gt;setMethod(<span class="constant">HTTP_Request2</span>::<span class="constant">METHOD_POST</span>)
                -&gt;setHeader(<span class="string"><span class="delimiter">'</span><span class="content">Content-type: application/json; charset=utf-8</span><span class="delimiter">'</span></span>)
                -&gt;setBody(json_encode(<span class="local-variable">$data</span>));

<span class="local-variable">$response</span> = <span class="local-variable">$request</span>-&gt;send();
<span class="local-variable">$status</span>   = <span class="local-variable">$response</span>-&gt;getStatus();

<span class="keyword">if</span> (<span class="local-variable">$status</span> &lt; <span class="integer">200</span> || <span class="local-variable">$status</span> &gt; <span class="integer">299</span>) {
    <span class="predefined">header</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Content-type: text/plain</span><span class="delimiter">&quot;</span></span>);
    <span class="predefined">print_r</span>(<span class="local-variable">$response</span>-&gt;getBody());
    <span class="predefined">exit</span>;
}

<span class="local-variable">$reply</span> = json_decode(<span class="local-variable">$response</span>-&gt;getBody());

<span class="predefined">echo</span> <span class="local-variable">$reply</span>-&gt;interactive.<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;

<span class="local-variable">$job_url</span> = <span class="string"><span class="delimiter">&quot;</span><span class="content">/jobs/</span><span class="delimiter">&quot;</span></span> .  <span class="local-variable">$reply</span>-&gt;id;

<span class="local-variable">$done</span> = <span class="integer">0</span>;

<span class="keyword">while</span> (!<span class="local-variable">$done</span>) {
    <span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">waiting ... </span><span class="delimiter">&quot;</span></span>;
    <span class="predefined">sleep</span>(<span class="integer">15</span>);
    <span class="predefined">list</span>(<span class="local-variable">$status</span>, <span class="local-variable">$reply</span>) = api_GET(<span class="local-variable">$job_url</span>);

    <span class="keyword">switch</span> (<span class="local-variable">$status</span>) {
    <span class="keyword">case</span> <span class="integer">200</span>:
        <span class="local-variable">$done</span> = <span class="integer">1</span>;
        <span class="keyword">break</span>;
    <span class="keyword">case</span> <span class="integer">202</span>:
        <span class="keyword">switch</span>(<span class="local-variable">$reply</span>-&gt;status) {
        <span class="keyword">case</span> <span class="integer">0</span>:
            <span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">still in queue</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="integer">1</span>:
            <span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">now being rendered</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
            <span class="keyword">break</span>;
        <span class="keyword">default</span>:
            <span class="predefined">echo</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">unexpected status: </span><span class="delimiter">&quot;</span></span>.<span class="local-variable">$reply</span>-&gt;status.<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>;
            <span class="keyword">break</span>;
        }
        <span class="keyword">break</span>;
    <span class="keyword">default</span>:
        <span class="predefined">die</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">unexpected HTTP status: </span><span class="local-variable">$status</span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">break</span>;
    }
}

<span class="local-variable">$pdf</span> = <span class="predefined">basename</span>(<span class="local-variable">$reply</span>-&gt;files-&gt;pdf);
<span class="predefined">copy</span>(<span class="local-variable">$reply</span>-&gt;files-&gt;pdf, <span class="local-variable">$pdf</span>);

<span class="predefined">system</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">xdg-open </span><span class="local-variable">$pdf</span><span class="delimiter">&quot;</span></span>);
rm(<span class="local-variable">$pdf</span>);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_python">Python</h3>
<div class="paragraph">
<p>To be done</p>
</div>
</div>
<div class="sect2">
<h3 id="_javascript">Javascript</h3>
<div class="paragraph">
<p>To be done, maybe. Due to the "same origin" restrictions
this is low on my list &#8230;&#8203;</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1<br>
Last updated 2018-09-16 14:05:16 CEST
</div>
</div>
</body>
</html>